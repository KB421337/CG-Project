<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Metropolis Light Transport: ShaderImpl.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Metropolis Light Transport
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ShaderImpl.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Contains the C++ implementation of the <a class="el" href="struct_path.html" title="Struct containing a single Path.">Path</a> Tracing MLT Shader.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &quot;<a class="el" href="_mlt_pixel_8hpp_source.html">MltPixel.hpp</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f2b29126f640c5c18d0b72793c7710c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_ray_hit.html">RayHit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a5f2b29126f640c5c18d0b72793c7710c">CreateRayHit</a> ()</td></tr>
<tr class="memdesc:a5f2b29126f640c5c18d0b72793c7710c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> object.  <a href="_shader_impl_8cpp.html#a5f2b29126f640c5c18d0b72793c7710c">More...</a><br /></td></tr>
<tr class="separator:a5f2b29126f640c5c18d0b72793c7710c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1d681568f83f92f01962e23a8bf623"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a7f1d681568f83f92f01962e23a8bf623">randfloat</a> (mt19937 &amp;e2, uniform_real_distribution&lt; float &gt; &amp;dist)</td></tr>
<tr class="memdesc:a7f1d681568f83f92f01962e23a8bf623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a random float from [0, 1] based on the uniform distribution.  <a href="_shader_impl_8cpp.html#a7f1d681568f83f92f01962e23a8bf623">More...</a><br /></td></tr>
<tr class="separator:a7f1d681568f83f92f01962e23a8bf623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5f79113a456540cb4b58b1d99a93ce"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a8d5f79113a456540cb4b58b1d99a93ce">sdot</a> (vec3 x, vec3 y, float f)</td></tr>
<tr class="memdesc:a8d5f79113a456540cb4b58b1d99a93ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the clamped output (between 0 and 1) of the dot product of the vectors multiplied with a float.  <a href="_shader_impl_8cpp.html#a8d5f79113a456540cb4b58b1d99a93ce">More...</a><br /></td></tr>
<tr class="separator:a8d5f79113a456540cb4b58b1d99a93ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102ef745e4f36225d691b5b331a78ec4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a102ef745e4f36225d691b5b331a78ec4">nrg</a> (vec3 colour)</td></tr>
<tr class="memdesc:a102ef745e4f36225d691b5b331a78ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function to average the three colour channels.  <a href="_shader_impl_8cpp.html#a102ef745e4f36225d691b5b331a78ec4">More...</a><br /></td></tr>
<tr class="separator:a102ef745e4f36225d691b5b331a78ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adabef53a9cf58b7068e49782213f0760"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#adabef53a9cf58b7068e49782213f0760">SmoothnessToPhongAlpha</a> (float s)</td></tr>
<tr class="memdesc:adabef53a9cf58b7068e49782213f0760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a smoothness value to alpha for scattering distribution.  <a href="_shader_impl_8cpp.html#adabef53a9cf58b7068e49782213f0760">More...</a><br /></td></tr>
<tr class="separator:adabef53a9cf58b7068e49782213f0760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414f59d7b0222e76e783941cc6140efb"><td class="memItemLeft" align="right" valign="top">mat3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a414f59d7b0222e76e783941cc6140efb">GetTgnSpace</a> (vec3 norm)</td></tr>
<tr class="memdesc:a414f59d7b0222e76e783941cc6140efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the tangent space given a normal.  <a href="_shader_impl_8cpp.html#a414f59d7b0222e76e783941cc6140efb">More...</a><br /></td></tr>
<tr class="separator:a414f59d7b0222e76e783941cc6140efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a08a5956bc4af0ccd69f354e2c32cf"><td class="memItemLeft" align="right" valign="top">vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#ab3a08a5956bc4af0ccd69f354e2c32cf">SampleHemi</a> (vec3 norm, float alpha, mt19937 &amp;e2, uniform_real_distribution&lt; float &gt; &amp;dist)</td></tr>
<tr class="memdesc:ab3a08a5956bc4af0ccd69f354e2c32cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sampling the hemisphere around the given normal and biases it based on the given alpha.  <a href="_shader_impl_8cpp.html#ab3a08a5956bc4af0ccd69f354e2c32cf">More...</a><br /></td></tr>
<tr class="separator:ab3a08a5956bc4af0ccd69f354e2c32cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2f372b9ddbba9de552ac5ca8a5c4e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a0f2f372b9ddbba9de552ac5ca8a5c4e9">intersectTgl_MT97</a> (<a class="el" href="struct_ray.html">Ray</a> ray, vec3 vert0, vec3 vert1, vec3 vert2, float &amp;t, float &amp;u, float &amp;v)</td></tr>
<tr class="memdesc:a0f2f372b9ddbba9de552ac5ca8a5c4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests the given ray's intersection with the given triangle.  <a href="_shader_impl_8cpp.html#a0f2f372b9ddbba9de552ac5ca8a5c4e9">More...</a><br /></td></tr>
<tr class="separator:a0f2f372b9ddbba9de552ac5ca8a5c4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37eff0a41d960ab457ae51d7fe0579bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a37eff0a41d960ab457ae51d7fe0579bf">intersectRoom</a> (<a class="el" href="struct_ray.html">Ray</a> ray, <a class="el" href="struct_ray_hit.html">RayHit</a> &amp;bestHit)</td></tr>
<tr class="memdesc:a37eff0a41d960ab457ae51d7fe0579bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests ray intersection with the skybox/room at Infinity.  <a href="_shader_impl_8cpp.html#a37eff0a41d960ab457ae51d7fe0579bf">More...</a><br /></td></tr>
<tr class="separator:a37eff0a41d960ab457ae51d7fe0579bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add662c805ed78def9a46c17fbbaed942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#add662c805ed78def9a46c17fbbaed942">intersectGroundPlane</a> (<a class="el" href="struct_ray.html">Ray</a> ray, <a class="el" href="struct_ray_hit.html">RayHit</a> &amp;bestHit)</td></tr>
<tr class="memdesc:add662c805ed78def9a46c17fbbaed942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests the intersection of the ray with the Ground and updates the bestHit in case the ground plane is visible to the ray.  <a href="_shader_impl_8cpp.html#add662c805ed78def9a46c17fbbaed942">More...</a><br /></td></tr>
<tr class="separator:add662c805ed78def9a46c17fbbaed942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25bbb2a5cc0d2ccd1492588e181eabb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#ac25bbb2a5cc0d2ccd1492588e181eabb">intersectSph</a> (<a class="el" href="struct_ray.html">Ray</a> ray, <a class="el" href="struct_ray_hit.html">RayHit</a> &amp;bestHit, <a class="el" href="struct_sph.html">Sph</a> sph)</td></tr>
<tr class="memdesc:ac25bbb2a5cc0d2ccd1492588e181eabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Testing the intersection of a ray and a sphere and modifying the previous best hit if the sphere is visible to that ray.  <a href="_shader_impl_8cpp.html#ac25bbb2a5cc0d2ccd1492588e181eabb">More...</a><br /></td></tr>
<tr class="separator:ac25bbb2a5cc0d2ccd1492588e181eabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad113f3b84b00b579317a6c20a7302e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_ray_hit.html">RayHit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#adad113f3b84b00b579317a6c20a7302e">Trace</a> (<a class="el" href="struct_ray.html">Ray</a> ray)</td></tr>
<tr class="memdesc:adad113f3b84b00b579317a6c20a7302e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goes through all the objects in the scene and bounces the given ray off the closest object visible to it.  <a href="_shader_impl_8cpp.html#adad113f3b84b00b579317a6c20a7302e">More...</a><br /></td></tr>
<tr class="separator:adad113f3b84b00b579317a6c20a7302e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183d32c7e8d05e2ee99d21c768ea299e"><td class="memItemLeft" align="right" valign="top">vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a183d32c7e8d05e2ee99d21c768ea299e">Shade</a> (<a class="el" href="struct_ray.html">Ray</a> &amp;ray, <a class="el" href="struct_ray_hit.html">RayHit</a> hit, mt19937 &amp;e2, uniform_real_distribution&lt; float &gt; &amp;dist)</td></tr>
<tr class="memdesc:a183d32c7e8d05e2ee99d21c768ea299e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the color contribution from the hitting of the given ray at the rayhit and updates the ray to the new reflected direction and its other properties.  <a href="_shader_impl_8cpp.html#a183d32c7e8d05e2ee99d21c768ea299e">More...</a><br /></td></tr>
<tr class="separator:a183d32c7e8d05e2ee99d21c768ea299e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d505bdf02800dbf01d0f85dc167d08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#a89d505bdf02800dbf01d0f85dc167d08">getLd</a> (int xl, mt19937 &amp;e2, normal_distribution&lt; float &gt; &amp;dist)</td></tr>
<tr class="memdesc:a89d505bdf02800dbf01d0f85dc167d08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of nodes in the path to delete.  <a href="_shader_impl_8cpp.html#a89d505bdf02800dbf01d0f85dc167d08">More...</a><br /></td></tr>
<tr class="separator:a89d505bdf02800dbf01d0f85dc167d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba3590bf0ecc5439b3a7dc1598f744a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#adba3590bf0ecc5439b3a7dc1598f744a">luminance</a> (vec3 colour)</td></tr>
<tr class="memdesc:adba3590bf0ecc5439b3a7dc1598f744a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the luminance of the color throughput.  <a href="_shader_impl_8cpp.html#adba3590bf0ecc5439b3a7dc1598f744a">More...</a><br /></td></tr>
<tr class="separator:adba3590bf0ecc5439b3a7dc1598f744a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5b82b80718603cce7ce88e97e9122c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_shader_impl_8cpp.html#abc5b82b80718603cce7ce88e97e9122c">drawPixel</a> (int x, int y, int imgWidth, int imgHeight, vec4 *frameBuffer, atomic&lt; int &gt; &amp;done)</td></tr>
<tr class="memdesc:abc5b82b80718603cce7ce88e97e9122c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the color of a single pixel. Bottom Left is (0, 0), Top Right is (imgWidth-1, imgHeight-1)  <a href="_shader_impl_8cpp.html#abc5b82b80718603cce7ce88e97e9122c">More...</a><br /></td></tr>
<tr class="separator:abc5b82b80718603cce7ce88e97e9122c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc8e2f6f2e41a0bcf7e5345a79519be0"><td class="memItemLeft" align="right" valign="top"><a id="adc8e2f6f2e41a0bcf7e5345a79519be0" name="adc8e2f6f2e41a0bcf7e5345a79519be0"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>mutations</b> = MUTATIONS</td></tr>
<tr class="separator:adc8e2f6f2e41a0bcf7e5345a79519be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc48b36f00e83c9a56b0f2c97544af2"><td class="memItemLeft" align="right" valign="top"><a id="adbc48b36f00e83c9a56b0f2c97544af2" name="adbc48b36f00e83c9a56b0f2c97544af2"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>numHits</b> = NUM_HITS</td></tr>
<tr class="separator:adbc48b36f00e83c9a56b0f2c97544af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Contains the C++ implementation of the <a class="el" href="struct_path.html" title="Struct containing a single Path.">Path</a> Tracing MLT Shader. </p>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-12-14</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5f2b29126f640c5c18d0b72793c7710c" name="a5f2b29126f640c5c18d0b72793c7710c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2b29126f640c5c18d0b72793c7710c">&#9670;&#160;</a></span>CreateRayHit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_ray_hit.html">RayHit</a> CreateRayHit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> object. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> object initialized </dd></dl>

</div>
</div>
<a id="abc5b82b80718603cce7ce88e97e9122c" name="abc5b82b80718603cce7ce88e97e9122c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc5b82b80718603cce7ce88e97e9122c">&#9670;&#160;</a></span>drawPixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawPixel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imgWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imgHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec4 *&#160;</td>
          <td class="paramname"><em>frameBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">atomic&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>done</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the color of a single pixel. Bottom Left is (0, 0), Top Right is (imgWidth-1, imgHeight-1) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x-coordinate of the pixel </td></tr>
    <tr><td class="paramname">y</td><td>y-coordinate of the pixel </td></tr>
    <tr><td class="paramname">imgWidth</td><td>width of the framebuffer window </td></tr>
    <tr><td class="paramname">imgHeight</td><td>height of the framebuffer window </td></tr>
    <tr><td class="paramname">frameBuffer</td><td>pointer to the framebuffer </td></tr>
    <tr><td class="paramname">done</td><td>Atomic int to track how many pixels have been rendered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89d505bdf02800dbf01d0f85dc167d08" name="a89d505bdf02800dbf01d0f85dc167d08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d505bdf02800dbf01d0f85dc167d08">&#9670;&#160;</a></span>getLd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mt19937 &amp;&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">normal_distribution&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of nodes in the path to delete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xl</td><td>Length of the path. </td></tr>
    <tr><td class="paramname">e2</td><td>Random Number Generator </td></tr>
    <tr><td class="paramname">dist</td><td>Normal Distribution Object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of nodes in the path to delete </dd></dl>

</div>
</div>
<a id="a414f59d7b0222e76e783941cc6140efb" name="a414f59d7b0222e76e783941cc6140efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414f59d7b0222e76e783941cc6140efb">&#9670;&#160;</a></span>GetTgnSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mat3 GetTgnSpace </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>norm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the tangent space given a normal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">norm</td><td>Normal of the surface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mat3 Tangent Space of the normal </dd></dl>

</div>
</div>
<a id="add662c805ed78def9a46c17fbbaed942" name="add662c805ed78def9a46c17fbbaed942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add662c805ed78def9a46c17fbbaed942">&#9670;&#160;</a></span>intersectGroundPlane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void intersectGroundPlane </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a>&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ray_hit.html">RayHit</a> &amp;&#160;</td>
          <td class="paramname"><em>bestHit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests the intersection of the ray with the Ground and updates the bestHit in case the ground plane is visible to the ray. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> to test intersection with </td></tr>
    <tr><td class="paramname">bestHit</td><td><a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> to change after finding that the ground plane is visible </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37eff0a41d960ab457ae51d7fe0579bf" name="a37eff0a41d960ab457ae51d7fe0579bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37eff0a41d960ab457ae51d7fe0579bf">&#9670;&#160;</a></span>intersectRoom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void intersectRoom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a>&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ray_hit.html">RayHit</a> &amp;&#160;</td>
          <td class="paramname"><em>bestHit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests ray intersection with the skybox/room at Infinity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> to intersect with </td></tr>
    <tr><td class="paramname">bestHit</td><td>Returns the <a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> of the hit skybox if the skybox is visible to the ray </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac25bbb2a5cc0d2ccd1492588e181eabb" name="ac25bbb2a5cc0d2ccd1492588e181eabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25bbb2a5cc0d2ccd1492588e181eabb">&#9670;&#160;</a></span>intersectSph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void intersectSph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a>&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ray_hit.html">RayHit</a> &amp;&#160;</td>
          <td class="paramname"><em>bestHit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sph.html">Sph</a>&#160;</td>
          <td class="paramname"><em>sph</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Testing the intersection of a ray and a sphere and modifying the previous best hit if the sphere is visible to that ray. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> to test intersection with </td></tr>
    <tr><td class="paramname">bestHit</td><td>bestHit to modify in case of visibility </td></tr>
    <tr><td class="paramname">sph</td><td>Sphere to test intersection and visibility with </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f2f372b9ddbba9de552ac5ca8a5c4e9" name="a0f2f372b9ddbba9de552ac5ca8a5c4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f2f372b9ddbba9de552ac5ca8a5c4e9">&#9670;&#160;</a></span>intersectTgl_MT97()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool intersectTgl_MT97 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a>&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>vert0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>vert1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>vert2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests the given ray's intersection with the given triangle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> to test intersection with </td></tr>
    <tr><td class="paramname">vert0</td><td>First Vertex of the Triangle in AntiClockWise Order </td></tr>
    <tr><td class="paramname">vert1</td><td>Second Vertex of the Triangle in AntiClockWise Order </td></tr>
    <tr><td class="paramname">vert2</td><td>Third Vertex of the Triangle in AntiClockWise Order </td></tr>
    <tr><td class="paramname">t</td><td>Barycentric Coordinate 1 of the Triangle in case of intersection </td></tr>
    <tr><td class="paramname">u</td><td>Barycentric Coordinate 2 of the Triangle in case of intersection </td></tr>
    <tr><td class="paramname">v</td><td>Barycentric Coordinate 3 of the Triangle in case of intersection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true Triangle intersects the ray and the intersection can be computed based on the Barycentric coordinates </dd>
<dd>
false Triangle does not intersect the ray </dd></dl>

</div>
</div>
<a id="adba3590bf0ecc5439b3a7dc1598f744a" name="adba3590bf0ecc5439b3a7dc1598f744a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba3590bf0ecc5439b3a7dc1598f744a">&#9670;&#160;</a></span>luminance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float luminance </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>colour</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the luminance of the color throughput. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colour</td><td>Color for which the luminance has to be returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float Luminance of the given color </dd></dl>

</div>
</div>
<a id="a102ef745e4f36225d691b5b331a78ec4" name="a102ef745e4f36225d691b5b331a78ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102ef745e4f36225d691b5b331a78ec4">&#9670;&#160;</a></span>nrg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float nrg </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>colour</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function to average the three colour channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colour</td><td>The colour channel to average. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float Energy/Intensity of the colour </dd></dl>

</div>
</div>
<a id="a7f1d681568f83f92f01962e23a8bf623" name="a7f1d681568f83f92f01962e23a8bf623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1d681568f83f92f01962e23a8bf623">&#9670;&#160;</a></span>randfloat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float randfloat </td>
          <td>(</td>
          <td class="paramtype">mt19937 &amp;&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uniform_real_distribution&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a random float from [0, 1] based on the uniform distribution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e2</td><td>Random number generator engine </td></tr>
    <tr><td class="paramname">dist</td><td>Uniform Distribution object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float Random float between 0 and 1 </dd></dl>

</div>
</div>
<a id="ab3a08a5956bc4af0ccd69f354e2c32cf" name="ab3a08a5956bc4af0ccd69f354e2c32cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a08a5956bc4af0ccd69f354e2c32cf">&#9670;&#160;</a></span>SampleHemi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec3 SampleHemi </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mt19937 &amp;&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uniform_real_distribution&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sampling the hemisphere around the given normal and biases it based on the given alpha. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">norm</td><td>Perfectly Reflected <a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> off the hemisphere surface </td></tr>
    <tr><td class="paramname">alpha</td><td>Alpha </td></tr>
    <tr><td class="paramname">e2</td><td>Random Number Generator </td></tr>
    <tr><td class="paramname">dist</td><td>Uniform Distribution </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vec3 Sampled Reflected <a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> </dd></dl>

</div>
</div>
<a id="a8d5f79113a456540cb4b58b1d99a93ce" name="a8d5f79113a456540cb4b58b1d99a93ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d5f79113a456540cb4b58b1d99a93ce">&#9670;&#160;</a></span>sdot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sdot </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the clamped output (between 0 and 1) of the dot product of the vectors multiplied with a float. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>first vector </td></tr>
    <tr><td class="paramname">y</td><td>second vector </td></tr>
    <tr><td class="paramname">f</td><td>float to multiply with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float clamped output between 0 and 1 </dd></dl>

</div>
</div>
<a id="a183d32c7e8d05e2ee99d21c768ea299e" name="a183d32c7e8d05e2ee99d21c768ea299e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183d32c7e8d05e2ee99d21c768ea299e">&#9670;&#160;</a></span>Shade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec3 Shade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_ray_hit.html">RayHit</a>&#160;</td>
          <td class="paramname"><em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mt19937 &amp;&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uniform_real_distribution&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the color contribution from the hitting of the given ray at the rayhit and updates the ray to the new reflected direction and its other properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> that raycasted </td></tr>
    <tr><td class="paramname">hit</td><td><a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> where the raycasted ray had hit </td></tr>
    <tr><td class="paramname">e2</td><td>Random Number Generator </td></tr>
    <tr><td class="paramname">dist</td><td>Uniform Distribution Object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vec3 Color contribution by the ray and its ray hit </dd></dl>

</div>
</div>
<a id="adabef53a9cf58b7068e49782213f0760" name="adabef53a9cf58b7068e49782213f0760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adabef53a9cf58b7068e49782213f0760">&#9670;&#160;</a></span>SmoothnessToPhongAlpha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SmoothnessToPhongAlpha </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a smoothness value to alpha for scattering distribution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Smoothness Value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float Alpha </dd></dl>

</div>
</div>
<a id="adad113f3b84b00b579317a6c20a7302e" name="adad113f3b84b00b579317a6c20a7302e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad113f3b84b00b579317a6c20a7302e">&#9670;&#160;</a></span>Trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_ray_hit.html">RayHit</a> Trace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ray.html">Ray</a>&#160;</td>
          <td class="paramname"><em>ray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Goes through all the objects in the scene and bounces the given ray off the closest object visible to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray</td><td><a class="el" href="struct_ray.html" title="Struct for a single Ray.">Ray</a> to bounce off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_ray_hit.html" title="Struct for a single hit by a Ray on any surface.">RayHit</a> Point at which the ray has bounced off </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
